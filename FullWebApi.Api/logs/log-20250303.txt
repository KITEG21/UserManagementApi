2025-03-03 13:29:43.133 -05:00 [INF] Registered 7 endpoints in 149 milliseconds.
2025-03-03 13:29:43.173 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:29:43.222 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:29:43.224 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:29:43.225 -05:00 [INF] Hosting environment: Development
2025-03-03 13:29:43.226 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:29:46.532 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/ - null null
2025-03-03 13:29:46.555 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:29:46.574 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/ - 404 0 null 42.3097ms
2025-03-03 13:29:46.579 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5232/, Response status code: 404
2025-03-03 13:29:49.796 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger - null null
2025-03-03 13:29:49.803 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger - 301 0 null 7.9503ms
2025-03-03 13:29:49.806 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/index.html - null null
2025-03-03 13:29:49.859 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/index.html - 200 null text/html;charset=utf-8 52.3778ms
2025-03-03 13:29:49.874 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui.css - null null
2025-03-03 13:29:49.876 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/index.css - null null
2025-03-03 13:29:49.876 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui-standalone-preset.js - null null
2025-03-03 13:29:49.876 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui-bundle.js - null null
2025-03-03 13:29:49.879 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/index.js - null null
2025-03-03 13:29:49.884 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/index.js - 200 null application/javascript;charset=utf-8 5.0647ms
2025-03-03 13:29:49.889 -05:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-03-03 13:29:49.891 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/index.css - 200 202 text/css 14.9748ms
2025-03-03 13:29:49.893 -05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-03-03 13:29:49.894 -05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-03-03 13:29:49.901 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui.css - 200 152035 text/css 27.217ms
2025-03-03 13:29:49.902 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 25.2558ms
2025-03-03 13:29:49.908 -05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-03-03 13:29:49.910 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 33.8729ms
2025-03-03 13:29:50.025 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/v1/swagger.json - null null
2025-03-03 13:29:50.038 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-03-03 13:29:50.151 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.1791ms
2025-03-03 13:30:22.547 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 52
2025-03-03 13:30:22.551 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:30:23.054 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:30:23.159 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 13:30:23.162 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:30:23.167 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 619.4316ms
2025-03-03 13:30:43.056 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 13:30:43.086 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:30:43.096 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 13:30:43.110 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 13:30:43.117 -05:00 [INF] Cache set for key: allUsers
2025-03-03 13:30:43.121 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:30:43.122 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 65.7726ms
2025-03-03 13:31:46.525 -05:00 [INF] Application is shutting down...
2025-03-03 13:31:50.181 -05:00 [INF] Registered 7 endpoints in 179 milliseconds.
2025-03-03 13:31:50.224 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:31:50.274 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:31:50.275 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:31:50.275 -05:00 [INF] Hosting environment: Development
2025-03-03 13:31:50.276 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:32:06.988 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/index.html - null null
2025-03-03 13:32:07.051 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/index.html - 200 null text/html;charset=utf-8 63.3172ms
2025-03-03 13:32:07.061 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/index.js - null null
2025-03-03 13:32:07.063 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/index.js - 200 null application/javascript;charset=utf-8 2.4648ms
2025-03-03 13:32:07.157 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/v1/swagger.json - null null
2025-03-03 13:32:07.161 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/swagger/favicon-32x32.png - null null
2025-03-03 13:32:07.165 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-03-03 13:32:07.167 -05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-03-03 13:32:07.168 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/favicon-32x32.png - 200 628 image/png 7.2412ms
2025-03-03 13:32:07.221 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.9005ms
2025-03-03 13:32:24.786 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 90
2025-03-03 13:32:24.790 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:32:24.840 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:32:25.321 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:32:25.343 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:32:25.415 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:32:25.430 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:32:25.432 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:32:25.444 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:32:25.446 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:32:25.450 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:32:25.452 -05:00 [ERR] Connection id "0HNAQG6PS7N37", Request id "0HNAQG6PS7N37:00000004": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:32:25.460 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 673.5619ms
2025-03-03 13:32:58.057 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 52
2025-03-03 13:32:58.068 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:32:58.097 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:32:58.159 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 13:32:58.160 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:32:58.161 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 104.2705ms
2025-03-03 13:33:12.349 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 90
2025-03-03 13:33:12.356 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:33:12.394 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:33:12.396 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:33:12.399 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:33:12.400 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:33:12.401 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:33:12.404 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:33:12.404 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:33:12.407 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:33:12.408 -05:00 [ERR] Connection id "0HNAQG6PS7N38", Request id "0HNAQG6PS7N38:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:33:12.413 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 64.5727ms
2025-03-03 13:34:11.515 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/signup - application/json 95
2025-03-03 13:34:11.518 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 13:34:11.521 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 13:34:11.522 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/signup - 401 0 null 7.3687ms
2025-03-03 13:34:15.226 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/1 - application/json 57
2025-03-03 13:34:15.229 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:15.232 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:15'.
2025-03-03 13:34:15.233 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 13:34:15.235 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 13:34:15.236 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/1 - 401 0 null 9.6293ms
2025-03-03 13:34:33.535 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:33.537 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:33.539 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:33'.
2025-03-03 13:34:33.540 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:33.541 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:33.542 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 6.5235ms
2025-03-03 13:34:50.464 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:50.466 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:50.468 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:50'.
2025-03-03 13:34:50.469 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:50.469 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:50.470 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 6.7373ms
2025-03-03 13:34:50.943 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:50.945 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:50.947 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:50'.
2025-03-03 13:34:50.947 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:50.948 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:50.949 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 5.8296ms
2025-03-03 13:34:51.512 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:51.513 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:51.515 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:51'.
2025-03-03 13:34:51.516 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:51.517 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:51.518 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 6.0654ms
2025-03-03 13:34:52.248 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:52.250 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:52.253 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:52'.
2025-03-03 13:34:52.254 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:52.255 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:52.256 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 7.7192ms
2025-03-03 13:34:52.736 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/1 - application/json 54
2025-03-03 13:34:52.738 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:34:52.740 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:34:52'.
2025-03-03 13:34:52.741 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:52.741 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:34:52.742 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/1 - 405 0 null 6.5029ms
2025-03-03 13:35:09.488 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 13:35:09.491 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:35:09.492 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:09'.
2025-03-03 13:35:09.493 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:09.496 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:35:09.523 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:09.525 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.CheckPassword(LoginRequest req, String hashedPassword, String passwordToCheck) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 37
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.HandleAsync(LoginRequest req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 61
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:35:09.535 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 500 null text/plain; charset=utf-8 46.9616ms
2025-03-03 13:35:37.040 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 13:35:37.042 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:35:37.044 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:37'.
2025-03-03 13:35:37.045 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:37.046 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:35:37.048 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:37.049 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.CheckPassword(LoginRequest req, String hashedPassword, String passwordToCheck) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 37
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.HandleAsync(LoginRequest req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 61
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:35:37.052 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 500 null text/plain; charset=utf-8 12.588ms
2025-03-03 13:35:37.751 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 13:35:37.752 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:35:37.754 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:35:37'.
2025-03-03 13:35:37.755 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:37.757 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:35:37.758 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:35:37.759 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.CheckPassword(LoginRequest req, String hashedPassword, String passwordToCheck) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 37
   at FullWebApi.Api.EndPoints.Auth.LoginEndpoint.HandleAsync(LoginRequest req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\Auth\LoginEndpoint.cs:line 61
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:35:37.763 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 500 null text/plain; charset=utf-8 12.6915ms
2025-03-03 13:36:01.808 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 53
2025-03-03 13:36:01.810 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:36:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 13:36:01.812 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01/03/2025 15:45:10', Current time (UTC): '03/03/2025 18:36:01'.
2025-03-03 13:36:01.813 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:36:01.816 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:36:01.868 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 13:36:01.869 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:36:01.870 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 61.4627ms
2025-03-03 13:36:15.720 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 95
2025-03-03 13:36:15.723 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:15.725 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:36:15.727 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:36:15.729 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:36:15.730 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:15.731 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:15.734 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:15.735 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:15.738 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:15.739 -05:00 [ERR] Connection id "0HNAQG6PS7N3L", Request id "0HNAQG6PS7N3L:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:36:15.744 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 23.4077ms
2025-03-03 13:36:17.183 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 95
2025-03-03 13:36:17.186 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:17.188 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:36:17.191 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:36:17.193 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:36:17.194 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:17.195 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:17.198 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:17.199 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:17.202 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:17.203 -05:00 [ERR] Connection id "0HNAQG6PS7N3M", Request id "0HNAQG6PS7N3M:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:36:17.209 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 25.5419ms
2025-03-03 13:36:24.768 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 95
2025-03-03 13:36:24.770 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:24.772 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:36:24.774 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:36:24.776 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:36:24.777 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:24.778 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:24.781 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:24.782 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:24.785 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:24.785 -05:00 [ERR] Connection id "0HNAQG6PS7N3N", Request id "0HNAQG6PS7N3N:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:36:24.789 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 20.9768ms
2025-03-03 13:36:48.351 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 99
2025-03-03 13:36:48.353 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:48.355 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:36:48.357 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:36:48.359 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:36:48.361 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:36:48.362 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:48.365 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:48.365 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:36:48.369 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:36:48.369 -05:00 [ERR] Connection id "0HNAQG6PS7N3O", Request id "0HNAQG6PS7N3O:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:36:48.372 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 21.8269ms
2025-03-03 13:37:15.676 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - null 0
2025-03-03 13:37:15.677 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 13:37:15.678 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 13:37:15.679 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 401 0 null 3.3954ms
2025-03-03 13:37:49.145 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - text/plain 99
2025-03-03 13:37:49.148 -05:00 [INF] Executing endpoint '415 HTTP Unsupported Media Type'
2025-03-03 13:37:49.148 -05:00 [INF] Executed endpoint '415 HTTP Unsupported Media Type'
2025-03-03 13:37:49.149 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 415 0 null 4.1179ms
2025-03-03 13:38:16.760 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 13:38:16.762 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:38:16.771 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 13:38:16.799 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 13:38:16.802 -05:00 [INF] Cache set for key: allUsers
2025-03-03 13:38:16.805 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:38:16.805 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 45.28ms
2025-03-03 13:39:33.951 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 99
2025-03-03 13:39:33.954 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:39:33.956 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:39:33.958 -05:00 [INF] Create user attemp failed: User already exist. Username: Mary Email: Mariam@gmail.com
2025-03-03 13:39:33.969 -05:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:39:33.979 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:39:34.014 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:39:34.016 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:39:34.031 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:39:34.032 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:39:34.041 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:39:34.041 -05:00 [ERR] Connection id "0HNAQG6PS7N3S", Request id "0HNAQG6PS7N3S:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:39:34.050 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 98.3198ms
2025-03-03 13:40:34.125 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 13:40:34.127 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:40:34.128 -05:00 [INF] Cache hit for key: allUsers
2025-03-03 13:40:34.128 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:40:34.129 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 4.7948ms
2025-03-03 13:40:39.314 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/{id} - */* 17
2025-03-03 13:40:39.316 -05:00 [INF] Executing endpoint 'HTTP: DELETE api/user/deleteuser/{id}'
2025-03-03 13:40:39.322 -05:00 [INF] Executed endpoint 'HTTP: DELETE api/user/deleteuser/{id}'
2025-03-03 13:40:39.323 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/{id} - 400 null application/problem+json; charset=utf-8 8.2368ms
2025-03-03 13:41:33.368 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 13:41:33.370 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:41:33.371 -05:00 [INF] Cache hit for key: allUsers
2025-03-03 13:41:33.372 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:41:33.373 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 4.3089ms
2025-03-03 13:42:01.578 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/{id} - application/json 82
2025-03-03 13:42:01.585 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:42:01.587 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:42:01.589 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/{id} - 400 null application/problem+json; charset=utf-8 10.7463ms
2025-03-03 13:43:31.484 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/signup - application/json 71
2025-03-03 13:43:31.486 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/signup'
2025-03-03 13:43:31.521 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AdminUsers" AS a
    WHERE a."Username" = @__req_Username_0 OR a."Email" = @__req_Email_1)
2025-03-03 13:43:31.524 -05:00 [INF] SignUp attempt failed: Validation errors. Username: string, Email: string, Errors: ["Email not valid"]
2025-03-03 13:43:31.526 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/signup'
2025-03-03 13:43:31.526 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/signup - 400 null application/json; charset=utf-8 42.121ms
2025-03-03 13:43:37.496 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/signup - null 0
2025-03-03 13:43:37.498 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/signup'
2025-03-03 13:43:37.498 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/signup'
2025-03-03 13:43:37.499 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/signup - 415 null null 3.0659ms
2025-03-03 13:43:58.825 -05:00 [INF] Application is shutting down...
2025-03-03 13:44:13.275 -05:00 [INF] Registered 7 endpoints in 150 milliseconds.
2025-03-03 13:44:13.316 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:44:13.359 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:44:13.360 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:44:13.361 -05:00 [INF] Hosting environment: Development
2025-03-03 13:44:13.361 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:44:44.789 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 60
2025-03-03 13:44:44.810 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:44:44.825 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:44:45.312 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:44:45.337 -05:00 [INF] Login attempt failed: Invalid credentials. Username: Gabe Rguez, Password: 1234567890
2025-03-03 13:44:45.340 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:44:45.346 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 401 null application/json; charset=utf-8 558.3466ms
2025-03-03 13:45:09.009 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 59
2025-03-03 13:45:09.013 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:09.025 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:45:09.027 -05:00 [INF] Login attempt failed: Invalid credentials. Username: Gabe Rguez, Password: 123456789
2025-03-03 13:45:09.028 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:09.028 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 401 null application/json; charset=utf-8 20.0443ms
2025-03-03 13:45:12.464 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 60
2025-03-03 13:45:12.468 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:12.504 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:45:12.506 -05:00 [INF] Login attempt failed: Invalid credentials. Username: Gabe Rguez, Password: 0123456789
2025-03-03 13:45:12.507 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:12.508 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 401 null application/json; charset=utf-8 44.0257ms
2025-03-03 13:45:25.672 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 13:45:25.674 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:25.676 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 13:45:25.765 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 13:45:25.766 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 13:45:25.767 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 95.0059ms
2025-03-03 13:45:39.145 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 13:45:39.174 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:45:39.184 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 13:45:39.190 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 13:45:39.198 -05:00 [INF] Cache set for key: allUsers
2025-03-03 13:45:39.201 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 13:45:39.202 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 56.5595ms
2025-03-03 13:46:08.872 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 79
2025-03-03 13:46:08.876 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:08.888 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:08.889 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 17.2972ms
2025-03-03 13:46:18.360 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 81
2025-03-03 13:46:18.362 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:18.364 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:18.365 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 5.1881ms
2025-03-03 13:46:21.160 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 65
2025-03-03 13:46:21.163 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:21.164 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:21.165 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 5.3372ms
2025-03-03 13:46:28.478 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 64
2025-03-03 13:46:28.480 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:28.504 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:46:28.510 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:46:28.511 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:28.512 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:28.521 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:28.522 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:28.525 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:28.529 -05:00 [ERR] Connection id "0HNAQGDRN6QTN", Request id "0HNAQGDRN6QTN:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:46:28.533 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 54.1173ms
2025-03-03 13:46:35.006 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 80
2025-03-03 13:46:35.009 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:35.012 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:46:35.013 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:46:35.015 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:35.016 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:35.018 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:35.019 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:35.022 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:35.023 -05:00 [ERR] Connection id "0HNAQGDRN6QTO", Request id "0HNAQGDRN6QTO:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:46:35.027 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 21.0374ms
2025-03-03 13:46:39.783 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 78
2025-03-03 13:46:39.786 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:39.788 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:46:39.790 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:46:39.791 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:46:39.792 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:39.796 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:39.796 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:46:39.801 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:46:39.801 -05:00 [ERR] Connection id "0HNAQGDRN6QTP", Request id "0HNAQGDRN6QTP:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 64
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:46:39.805 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 21.7812ms
2025-03-03 13:47:22.415 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 107
2025-03-03 13:47:22.417 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:22.420 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:22.421 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 5.2865ms
2025-03-03 13:47:27.207 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 108
2025-03-03 13:47:27.209 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:27.212 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:47:27.214 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:47:27.258 -05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:47:27.266 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:47:27.274 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:27.275 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:47:27.284 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:47:27.284 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:47:27.291 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:47:27.292 -05:00 [ERR] Connection id "0HNAQGDRN6QTR", Request id "0HNAQGDRN6QTR:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:47:27.302 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 94.4141ms
2025-03-03 13:47:33.616 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 110
2025-03-03 13:47:33.618 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:33.620 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:47:33.622 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:47:33.625 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:47:33.627 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:47:33.637 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:47:33.637 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:47:33.646 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:47:33.646 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:47:33.655 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:47:33.655 -05:00 [ERR] Connection id "0HNAQGDRN6QTS", Request id "0HNAQGDRN6QTS:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:47:33.664 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 47.3855ms
2025-03-03 13:48:03.455 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 110
2025-03-03 13:48:03.458 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:48:03.460 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:48:03.462 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:48:03.463 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:48:03.465 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:48:03.477 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:48:03.478 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:48:03.486 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:48:03.486 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:48:03.495 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:48:03.496 -05:00 [ERR] Connection id "0HNAQGDRN6QTT", Request id "0HNAQGDRN6QTT:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:48:03.505 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 49.5046ms
2025-03-03 13:48:17.536 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 108
2025-03-03 13:48:17.539 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:48:17.541 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:48:17.542 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:48:17.545 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:48:17.548 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:48:17.557 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:48:17.558 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:48:17.566 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:48:17.567 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:48:17.575 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:48:17.575 -05:00 [ERR] Connection id "0HNAQGDRN6QTU", Request id "0HNAQGDRN6QTU:00000001": An unhandled exception was thrown by the application.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:48:17.584 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 47.8236ms
2025-03-03 13:49:31.078 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 109
2025-03-03 13:49:31.081 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:31.082 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:49:31.084 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:49:31.086 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:49:31.091 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:31.092 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:49:31.094 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:49:31.095 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:49:31.097 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:49:31.098 -05:00 [ERR] Connection id "0HNAQGDRN6QTV", Request id "0HNAQGDRN6QTV:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:49:31.101 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 22.5448ms
2025-03-03 13:49:40.632 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 108
2025-03-03 13:49:40.634 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:40.636 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:49:40.638 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Password", "Username")
VALUES (@p0, @p1, @p2, @p3);
2025-03-03 13:49:40.642 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FullWebApi.Infrastructure.Data.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-03 13:49:40.651 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:40.652 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: llave duplicada viola restricción de unicidad «PK_Users»

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: llave duplicada viola restricción de unicidad «PK_Users»
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: PK_Users
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FullWebApi.Infrastructure.Repositories.UserRepository.SignUpUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 83
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 70
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:49:40.663 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 500 null text/plain; charset=utf-8 31.2292ms
2025-03-03 13:49:49.929 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 93
2025-03-03 13:49:49.931 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:49.956 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:49:49.964 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:49:49.971 -05:00 [INF] New user created successfully! Username: manitoo, Email: manaa@gmail.com
2025-03-03 13:49:49.972 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:49:49.972 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 201 null application/json; charset=utf-8 43.7906ms
2025-03-03 13:50:01.071 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 13:50:01.073 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:01.075 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:50:01.077 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:50:01.079 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:50:01.082 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:01.082 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:50:01.085 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:50:01.085 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:50:01.088 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:50:01.089 -05:00 [ERR] Connection id "0HNAQGDRN6QU2", Request id "0HNAQGDRN6QU2:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:50:01.092 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 21.1725ms
2025-03-03 13:50:18.911 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 99
2025-03-03 13:50:18.913 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:18.915 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:50:18.917 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:50:18.920 -05:00 [INF] New user created successfully! Username: manitooooo, Email: Belyahoo@gmail.com
2025-03-03 13:50:18.921 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:18.921 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 201 null application/json; charset=utf-8 10.5394ms
2025-03-03 13:50:32.456 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 13:50:32.458 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:32.460 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:50:32.461 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:50:32.463 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:50:32.465 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:50:32.466 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:50:32.469 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:50:32.469 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:50:32.472 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:50:32.473 -05:00 [ERR] Connection id "0HNAQGDRN6QU4", Request id "0HNAQGDRN6QU4:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 71
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:50:32.477 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 21.865ms
2025-03-03 13:51:04.098 -05:00 [INF] Application is shutting down...
2025-03-03 13:51:09.085 -05:00 [INF] Registered 7 endpoints in 146 milliseconds.
2025-03-03 13:51:09.123 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:51:09.165 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:51:09.166 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:51:09.167 -05:00 [INF] Hosting environment: Development
2025-03-03 13:51:09.168 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:51:12.691 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 13:51:12.713 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:51:12.774 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:51:13.258 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:51:13.274 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:51:13.356 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 13:51:13.369 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:51:13.371 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 72
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:51:13.381 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:51:13.381 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 72
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:51:13.384 -05:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-03-03 13:51:13.387 -05:00 [ERR] Connection id "0HNAQGHFAH1C3", Request id "0HNAQGHFAH1C3:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 72
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-03 13:51:13.394 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 703.9039ms
2025-03-03 13:52:10.117 -05:00 [INF] Application is shutting down...
2025-03-03 13:52:12.781 -05:00 [INF] Registered 7 endpoints in 148 milliseconds.
2025-03-03 13:52:12.820 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:52:12.870 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:52:12.871 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:52:12.872 -05:00 [INF] Hosting environment: Development
2025-03-03 13:52:12.872 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:52:16.141 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 13:52:16.164 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:52:16.219 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:52:16.812 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:52:16.827 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:52:16.843 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:52:16.849 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 708.3997ms
2025-03-03 13:52:31.068 -05:00 [INF] Application is shutting down...
2025-03-03 13:52:33.986 -05:00 [INF] Registered 7 endpoints in 156 milliseconds.
2025-03-03 13:52:34.026 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:52:34.073 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:52:34.074 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:52:34.075 -05:00 [INF] Hosting environment: Development
2025-03-03 13:52:34.076 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:52:37.804 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 13:52:37.824 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:52:37.880 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:52:38.381 -05:00 [INF] Executed DbCommand (29ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 13:52:38.412 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 13:52:38.415 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 13:52:38.421 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 617.5886ms
2025-03-03 13:53:01.961 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/ - null null
2025-03-03 13:53:01.965 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:53:01.966 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:53:01.967 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/ - 405 0 null 5.976ms
2025-03-03 13:53:17.232 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/ - null null
2025-03-03 13:53:17.238 -05:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-03-03 13:53:17.247 -05:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-03-03 13:53:17.248 -05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-03-03 13:53:17.249 -05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-03-03 13:53:17.249 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/ - 405 0 null 17.5704ms
2025-03-03 13:53:29.176 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/51 - null null
2025-03-03 13:53:29.179 -05:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-03-03 13:53:29.181 -05:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-03-03 13:53:29.184 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 13:53:29.187 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 13:53:29.188 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/51 - 401 0 null 11.8597ms
2025-03-03 13:53:39.744 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/51 - null null
2025-03-03 13:53:39.747 -05:00 [INF] Executing endpoint 'HTTP: DELETE api/user/deleteuser/{id}'
2025-03-03 13:53:39.789 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-03-03 13:53:39.850 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0;
2025-03-03 13:53:39.857 -05:00 [INF] User deleted successfully. Id: 51
2025-03-03 13:53:39.858 -05:00 [INF] Executed endpoint 'HTTP: DELETE api/user/deleteuser/{id}'
2025-03-03 13:53:39.859 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5232/api/user/deleteuser/51 - 200 null application/json; charset=utf-8 115.3992ms
2025-03-03 13:54:07.111 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/1 - null null
2025-03-03 13:54:07.116 -05:00 [INF] Executing endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:54:07.119 -05:00 [INF] Cache miss for key: user1
2025-03-03 13:54:07.157 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-03-03 13:54:07.159 -05:00 [INF] Cache set for key: user1
2025-03-03 13:54:07.160 -05:00 [INF] Executed endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:54:07.161 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/1 - 200 null application/json; charset=utf-8 50.1249ms
2025-03-03 13:54:20.960 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/30 - null null
2025-03-03 13:54:20.963 -05:00 [INF] Executing endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:54:20.964 -05:00 [INF] Cache miss for key: user30
2025-03-03 13:54:20.967 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-03-03 13:54:20.969 -05:00 [INF] Executed endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:54:20.970 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: User not found
   at FullWebApi.Infrastructure.Repositories.UserRepository.GetUser(Int32 id) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 65
   at FullWebApi.Api.EndPoints.GetUserById.HandleAsync(UserDto req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\GetUserById.cs:line 32
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:54:20.978 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/30 - 500 null text/plain; charset=utf-8 17.5713ms
2025-03-03 13:55:50.050 -05:00 [INF] Application is shutting down...
2025-03-03 13:55:52.654 -05:00 [INF] Registered 7 endpoints in 149 milliseconds.
2025-03-03 13:55:52.699 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:55:52.741 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:55:52.742 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:55:52.742 -05:00 [INF] Hosting environment: Development
2025-03-03 13:55:52.743 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:55:55.404 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/30 - null null
2025-03-03 13:55:55.427 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:55:55.480 -05:00 [INF] Executing endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:55:55.513 -05:00 [INF] Cache miss for key: user30
2025-03-03 13:55:55.954 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-03-03 13:55:55.966 -05:00 [INF] Executed endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:55:55.968 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: User not found
   at FullWebApi.Infrastructure.Repositories.UserRepository.GetUser(Int32 id) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 65
   at FullWebApi.Api.EndPoints.GetUserById.HandleAsync(UserDto req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\GetUserById.cs:line 32
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:55:55.984 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/30 - 500 null text/plain; charset=utf-8 581.1747ms
2025-03-03 13:57:20.255 -05:00 [INF] Application is shutting down...
2025-03-03 13:57:22.926 -05:00 [INF] Registered 7 endpoints in 164 milliseconds.
2025-03-03 13:57:22.969 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 13:57:23.012 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 13:57:23.013 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 13:57:23.014 -05:00 [INF] Hosting environment: Development
2025-03-03 13:57:23.015 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 13:57:25.812 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/30 - null null
2025-03-03 13:57:25.835 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 13:57:25.888 -05:00 [INF] Executing endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:57:25.921 -05:00 [INF] Cache miss for key: user30
2025-03-03 13:57:26.369 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-03-03 13:57:26.391 -05:00 [INF] Executed endpoint 'HTTP: GET api/user/{id}'
2025-03-03 13:57:26.398 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/30 - 404 null application/json; charset=utf-8 586.677ms
2025-03-03 13:57:47.551 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - null 0
2025-03-03 13:57:47.556 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 13:57:47.560 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 13:57:47.561 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - 401 0 null 9.9491ms
2025-03-03 13:58:00.847 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - null 0
2025-03-03 13:58:00.851 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:58:00.852 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:58:00.852 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - 415 null null 5.5121ms
2025-03-03 13:58:36.856 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - application/json 62
2025-03-03 13:58:36.859 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:58:36.891 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__req_Id_0
LIMIT 1
2025-03-03 13:58:36.893 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 13:58:36.894 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: User not found
   at FullWebApi.Infrastructure.Repositories.UserRepository.UpdateUser(User req) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\FullWebApi.Infrastructure\Repositories\UserRepository.cs:line 108
   at FullWebApi.Api.EndPoints.UpdateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\UpdateUser.cs:line 34
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 13:58:36.905 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - 500 null text/plain; charset=utf-8 48.957ms
2025-03-03 14:00:11.988 -05:00 [INF] Application is shutting down...
2025-03-03 14:00:14.460 -05:00 [INF] Registered 7 endpoints in 171 milliseconds.
2025-03-03 14:00:14.500 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 14:00:14.543 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 14:00:14.544 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 14:00:14.545 -05:00 [INF] Hosting environment: Development
2025-03-03 14:00:14.546 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 14:00:16.690 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - application/json 62
2025-03-03 14:00:16.711 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 14:00:16.766 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:00:17.242 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__req_Id_0
LIMIT 1
2025-03-03 14:00:17.267 -05:00 [INF] Update user failed attempt: The required user Id coulnd't be find. Id: 30
2025-03-03 14:00:17.269 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:00:17.274 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - 404 null application/json; charset=utf-8 585.463ms
2025-03-03 14:00:32.600 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/97 - application/json 62
2025-03-03 14:00:32.606 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 18:55:25', Current time (UTC): '03/03/2025 19:00:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 14:00:32.616 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 18:55:25', Current time (UTC): '03/03/2025 19:00:32'.
2025-03-03 14:00:32.618 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 14:00:32.621 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 14:00:32.622 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/97 - 401 0 null 22.424ms
2025-03-03 14:00:48.128 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 14:00:48.131 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 14:00:48.147 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 14:00:48.224 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 14:00:48.225 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 14:00:48.226 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 98.1982ms
2025-03-03 14:00:55.096 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/97 - application/json 62
2025-03-03 14:00:55.099 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:00:55.136 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__req_Id_0
LIMIT 1
2025-03-03 14:00:55.177 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Password" = @p1, "Username" = @p2
WHERE "Id" = @p3;
2025-03-03 14:00:55.183 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:00:55.184 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/97 - 200 null application/json; charset=utf-8 88.648ms
2025-03-03 14:01:05.848 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - application/json 62
2025-03-03 14:01:05.850 -05:00 [INF] Executing endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:01:05.853 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
WHERE u."Id" = @__req_Id_0
LIMIT 1
2025-03-03 14:01:05.855 -05:00 [INF] Update user failed attempt: The required user Id coulnd't be find. Id: 30
2025-03-03 14:01:05.855 -05:00 [INF] Executed endpoint 'HTTP: PUT api/user/updateuser/{id}'
2025-03-03 14:01:05.856 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5232/api/user/updateuser/30 - 404 null application/json; charset=utf-8 8.6509ms
2025-03-03 14:11:51.368 -05:00 [INF] Application is shutting down...
2025-03-03 14:20:35.760 -05:00 [INF] Registered 7 endpoints in 191 milliseconds.
2025-03-03 14:20:35.802 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 14:20:35.844 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 14:20:35.845 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 14:20:35.846 -05:00 [INF] Hosting environment: Development
2025-03-03 14:20:35.846 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 14:20:45.095 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 14:20:45.117 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 14:20:45.131 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 14:20:45.635 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 14:20:45.745 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 14:20:45.748 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 14:20:45.753 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 659.81ms
2025-03-03 14:21:00.378 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 94
2025-03-03 14:21:00.407 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:21:00.439 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:21:00.448 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 14:21:00.449 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:21:00.450 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 72.4905ms
2025-03-03 14:21:25.624 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 101
2025-03-03 14:21:25.629 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:21:25.667 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:21:25.723 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 14:21:25.724 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:21:25.728 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[FullWebApi.Domain.Models.User,FullWebApi.Application.Services.UserServices+<SignUpUser>d__5]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverWithAddedModifiers.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializer.GetTypeInfo(JsonSerializerOptions options, Type inputType)
   at System.Text.Json.JsonSerializer.SerializeAsync(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsync(HttpResponse response, Object value, Type type, JsonSerializerOptions options, String contentType, CancellationToken cancellationToken)
   at FastEndpoints.SerializerOptions.<>c.<.ctor>b__24_1(HttpResponse rsp, Object dto, String contentType, JsonSerializerContext jCtx, CancellationToken cancellation)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 58
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:21:25.738 -05:00 [INF] New user created successfully! Username: Shiroyasha, Email: goldenballs@gmail.com
2025-03-03 14:21:25.746 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 500 null text/plain; charset=utf-8 122.0686ms
2025-03-03 14:21:44.712 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 14:21:44.717 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 14:21:44.726 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 14:21:44.731 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 14:21:44.734 -05:00 [INF] Cache set for key: allUsers
2025-03-03 14:21:44.737 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 14:21:44.738 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 26.0032ms
2025-03-03 14:25:59.223 -05:00 [INF] Application is shutting down...
2025-03-03 14:26:02.338 -05:00 [INF] Registered 7 endpoints in 182 milliseconds.
2025-03-03 14:26:02.379 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 14:26:02.428 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 14:26:02.429 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 14:26:02.430 -05:00 [INF] Hosting environment: Development
2025-03-03 14:26:02.430 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 14:26:16.165 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 101
2025-03-03 14:26:16.187 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 14:26:16.242 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:26:16.735 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:26:16.762 -05:00 [INF] Create user attemp failed: User already exist. Username: Shiroyasha Email: goldenballs@gmail.com
2025-03-03 14:26:16.765 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:26:16.770 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 605.9046ms
2025-03-03 14:26:35.632 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 101
2025-03-03 14:26:35.637 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:26:35.649 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:26:35.720 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 14:26:35.723 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:26:35.724 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[FullWebApi.Domain.Models.User,FullWebApi.Application.Services.UserServices+<SignUpUser>d__5]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverWithAddedModifiers.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializer.GetTypeInfo(JsonSerializerOptions options, Type inputType)
   at System.Text.Json.JsonSerializer.SerializeAsync(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsync(HttpResponse response, Object value, Type type, JsonSerializerOptions options, String contentType, CancellationToken cancellationToken)
   at FastEndpoints.SerializerOptions.<>c.<.ctor>b__24_1(HttpResponse rsp, Object dto, String contentType, JsonSerializerContext jCtx, CancellationToken cancellation)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 59
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:26:35.732 -05:00 [INF] New user created successfully! Username: Oukonyasha, Email: silverballs@gmail.com
2025-03-03 14:26:35.739 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 500 null text/plain; charset=utf-8 107.9481ms
2025-03-03 14:27:44.241 -05:00 [INF] Application is shutting down...
2025-03-03 14:27:46.956 -05:00 [INF] Registered 7 endpoints in 161 milliseconds.
2025-03-03 14:27:46.999 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 14:27:47.041 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 14:27:47.042 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 14:27:47.043 -05:00 [INF] Hosting environment: Development
2025-03-03 14:27:47.044 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 14:28:05.731 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 96
2025-03-03 14:28:05.752 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 14:28:05.805 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:28:06.299 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:28:06.382 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 14:28:06.388 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:28:06.389 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[FullWebApi.Domain.Models.User,FullWebApi.Application.Services.UserServices+<SignUpUser>d__5]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverWithAddedModifiers.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializer.GetTypeInfo(JsonSerializerOptions options, Type inputType)
   at System.Text.Json.JsonSerializer.SerializeAsync(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsync(HttpResponse response, Object value, Type type, JsonSerializerOptions options, String contentType, CancellationToken cancellationToken)
   at FastEndpoints.SerializerOptions.<>c.<.ctor>b__24_1(HttpResponse rsp, Object dto, String contentType, JsonSerializerContext jCtx, CancellationToken cancellation)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 59
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:28:06.409 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 500 null text/plain; charset=utf-8 679.4925ms
2025-03-03 14:28:16.732 -05:00 [INF] Application is shutting down...
2025-03-03 14:28:47.192 -05:00 [INF] Registered 7 endpoints in 155 milliseconds.
2025-03-03 14:28:47.232 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 14:28:47.274 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 14:28:47.275 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 14:28:47.276 -05:00 [INF] Hosting environment: Development
2025-03-03 14:28:47.276 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 14:28:58.246 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 96
2025-03-03 14:28:58.267 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 14:28:58.321 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:28:58.809 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:28:58.836 -05:00 [INF] Create user attemp failed: User already exist. Username: Raffy Email: piratekings@gmail.com
2025-03-03 14:28:58.839 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:28:58.844 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 599.5679ms
2025-03-03 14:29:04.449 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 98
2025-03-03 14:29:04.454 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:29:04.466 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 14:29:04.535 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 14:29:04.538 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 14:29:04.539 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[FullWebApi.Domain.Models.User,FullWebApi.Infrastructure.Repositories.UserRepository+<SignUpUser>d__6]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfoResolverWithAddedModifiers.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoForRootType(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializer.GetTypeInfo(JsonSerializerOptions options, Type inputType)
   at System.Text.Json.JsonSerializer.SerializeAsync(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpResponseJsonExtensions.WriteAsJsonAsync(HttpResponse response, Object value, Type type, JsonSerializerOptions options, String contentType, CancellationToken cancellationToken)
   at FastEndpoints.SerializerOptions.<>c.<.ctor>b__24_1(HttpResponse rsp, Object dto, String contentType, JsonSerializerContext jCtx, CancellationToken cancellation)
   at FastEndpoints.HttpResponseExtensions.SendAsync[TResponse](HttpResponse rsp, TResponse response, Int32 statusCode, JsonSerializerContext jsonSerializerContext, CancellationToken cancellation)
   at FastEndpoints.Endpoint`2.SendAsync(TResponse response, Int32 statusCode, CancellationToken cancellation)
   at FullWebApi.Api.EndPoints.CreateUser.HandleAsync(User req, CancellationToken ct) in C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api\EndPoints\CreateUser.cs:line 59
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-03 14:29:04.555 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 500 null text/plain; charset=utf-8 106.2602ms
2025-03-03 14:30:20.908 -05:00 [INF] Application is shutting down...
2025-03-03 15:22:18.380 -05:00 [INF] Registered 7 endpoints in 166 milliseconds.
2025-03-03 15:22:18.429 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 15:22:18.481 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 15:22:18.482 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 15:22:18.483 -05:00 [INF] Hosting environment: Development
2025-03-03 15:22:18.484 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 15:22:25.286 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 15:22:25.309 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 15:22:25.325 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 15:22:25.831 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 15:22:25.940 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 15:22:25.943 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 15:22:25.949 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 663.8642ms
2025-03-03 15:22:37.641 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 98
2025-03-03 15:22:37.669 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:22:37.694 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 15:22:37.702 -05:00 [INF] Create user attemp failed: User already exist. Username: Raffy23 Email: piratekings@gmail.com
2025-03-03 15:22:37.703 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:22:37.704 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 64.2093ms
2025-03-03 15:22:42.646 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 97
2025-03-03 15:22:42.651 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:22:42.689 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 15:22:42.758 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 15:22:42.769 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:22:42.770 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 123.8358ms
2025-03-03 15:22:56.958 -05:00 [INF] Application is shutting down...
2025-03-03 15:26:46.061 -05:00 [INF] Registered 7 endpoints in 183 milliseconds.
2025-03-03 15:26:46.108 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 15:26:46.161 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 15:26:46.162 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 15:26:46.163 -05:00 [INF] Hosting environment: Development
2025-03-03 15:26:46.163 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 15:27:50.324 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 97
2025-03-03 15:27:50.345 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 15:27:50.400 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:27:50.889 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 15:27:50.918 -05:00 [INF] Create user attemp failed: User already exist. Username: Raffy2 Email: piratekings@gmail.com
2025-03-03 15:27:50.921 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:27:50.928 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 604.0608ms
2025-03-03 15:28:08.831 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 91
2025-03-03 15:28:08.836 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:28:08.849 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 15:28:08.931 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Password", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-03-03 15:28:08.943 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:28:08.945 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 114.2956ms
2025-03-03 15:55:30.950 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 77
2025-03-03 15:55:30.955 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 20:32:25', Current time (UTC): '03/03/2025 20:55:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 15:55:30.964 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 20:32:25', Current time (UTC): '03/03/2025 20:55:30'.
2025-03-03 15:55:30.966 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 15:55:30.969 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 15:55:30.969 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 401 0 null 19.4272ms
2025-03-03 15:55:35.198 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 15:55:35.200 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 15:55:35.292 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 15:55:35.370 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 15:55:35.371 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 15:55:35.372 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 173.7665ms
2025-03-03 15:55:42.814 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 77
2025-03-03 15:55:42.816 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:55:42.826 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:55:42.827 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 13.2555ms
2025-03-03 15:55:56.558 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 78
2025-03-03 15:55:56.561 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:55:56.562 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 15:55:56.563 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 4.8284ms
2025-03-03 16:04:11.968 -05:00 [INF] Application is shutting down...
2025-03-03 16:05:01.479 -05:00 [INF] Registered 7 endpoints in 182 milliseconds.
2025-03-03 16:05:01.521 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 16:05:01.578 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 16:05:01.579 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 16:05:01.580 -05:00 [INF] Hosting environment: Development
2025-03-03 16:05:01.580 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 16:05:05.122 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 78
2025-03-03 16:05:05.143 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 16:05:05.200 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:05:05.266 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:05:05.270 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 148.5231ms
2025-03-03 16:05:07.535 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 78
2025-03-03 16:05:07.539 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:05:07.541 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:05:07.542 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/problem+json; charset=utf-8 8.0498ms
2025-03-03 16:06:00.526 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 79
2025-03-03 16:06:00.531 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:00.984 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:01.028 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:01.042 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:01.049 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 523.0283ms
2025-03-03 16:06:15.846 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:06:15.848 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:15.858 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:15.861 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:15.862 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:15.863 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 17.5132ms
2025-03-03 16:06:56.471 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:06:56.473 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:56.512 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:56.513 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:56.514 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:56.515 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 43.8651ms
2025-03-03 16:06:57.044 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:06:57.046 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:57.048 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:57.050 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:57.051 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:57.052 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 7.4214ms
2025-03-03 16:06:58.846 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:06:58.848 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:58.850 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:58.851 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:58.852 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:58.853 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 7.255ms
2025-03-03 16:06:59.478 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:06:59.480 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:59.482 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:06:59.484 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:06:59.484 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:06:59.485 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 null application/json; charset=utf-8 7.3799ms
2025-03-03 16:07:39.055 -05:00 [INF] Application is shutting down...
2025-03-03 16:07:42.487 -05:00 [INF] Registered 7 endpoints in 167 milliseconds.
2025-03-03 16:07:42.531 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 16:07:42.583 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 16:07:42.584 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 16:07:42.585 -05:00 [INF] Hosting environment: Development
2025-03-03 16:07:42.586 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 16:07:43.490 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:07:43.512 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 16:07:43.569 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:07:44.076 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:07:44.101 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:07:44.104 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:07:44.110 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 621.1936ms
2025-03-03 16:07:48.910 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 71
2025-03-03 16:07:48.915 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:07:48.926 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:07:48.928 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:07:48.929 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:07:48.930 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 20.388ms
2025-03-03 16:08:46.285 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:46.289 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:46.327 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:46.329 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:46.329 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:46.330 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 45.1114ms
2025-03-03 16:08:46.862 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:46.864 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:46.866 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:46.868 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:46.868 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:46.869 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 7.3842ms
2025-03-03 16:08:47.301 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:47.304 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:47.306 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:47.308 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:47.309 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:47.310 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 8.5839ms
2025-03-03 16:08:47.694 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:47.696 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:47.698 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:47.700 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:47.700 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:47.701 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 7.6192ms
2025-03-03 16:08:48.085 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:48.087 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.089 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:48.090 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:48.091 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.092 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 7.086ms
2025-03-03 16:08:48.269 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:48.271 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.273 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:48.275 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:48.276 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.276 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 7.0558ms
2025-03-03 16:08:48.453 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:08:48.456 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.458 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:08:48.460 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:08:48.460 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:08:48.461 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 200 0 null 8.019ms
2025-03-03 16:09:00.151 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 16:09:00.156 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 16:09:00.167 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 16:09:00.187 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 16:09:00.213 -05:00 [INF] Cache set for key: allUsers
2025-03-03 16:09:00.222 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 16:09:00.223 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 71.834ms
2025-03-03 16:10:06.409 -05:00 [INF] Application is shutting down...
2025-03-03 16:10:12.080 -05:00 [INF] Registered 7 endpoints in 160 milliseconds.
2025-03-03 16:10:12.121 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 16:10:12.166 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 16:10:12.167 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 16:10:12.167 -05:00 [INF] Hosting environment: Development
2025-03-03 16:10:12.168 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 16:10:13.923 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:10:13.945 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 16:10:14.001 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:10:14.495 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:10:14.520 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:10:14.533 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:10:14.535 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:10:14.541 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/json; charset=utf-8 618.4327ms
2025-03-03 16:12:02.301 -05:00 [INF] Application is shutting down...
2025-03-03 16:12:05.156 -05:00 [INF] Registered 7 endpoints in 182 milliseconds.
2025-03-03 16:12:05.199 -05:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-03 16:12:05.248 -05:00 [INF] Now listening on: http://localhost:5232
2025-03-03 16:12:05.249 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-03 16:12:05.249 -05:00 [INF] Hosting environment: Development
2025-03-03 16:12:05.250 -05:00 [INF] Content root path: C:\Users\Usuario\Documents\Backend\API\FullWebApi\fullwebapi.api
2025-03-03 16:12:07.082 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:12:07.104 -05:00 [WRN] Failed to determine the https port for redirect.
2025-03-03 16:12:07.152 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 21:05:35', Current time (UTC): '03/03/2025 21:12:07'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-03 16:12:07.164 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/03/2025 21:05:35', Current time (UTC): '03/03/2025 21:12:07'.
2025-03-03 16:12:07.167 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-03 16:12:07.171 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-03 16:12:07.174 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 401 0 null 92.5276ms
2025-03-03 16:12:13.320 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/auth/login - application/json 54
2025-03-03 16:12:13.325 -05:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-03-03 16:12:13.823 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__req_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Email", a."Password", a."Username"
FROM "AdminUsers" AS a
WHERE a."Username" = @__req_Username_0
LIMIT 1
2025-03-03 16:12:13.921 -05:00 [INF] User logged successfully. Username: gabriel
2025-03-03 16:12:13.923 -05:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-03-03 16:12:13.928 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/auth/login - 200 null application/json; charset=utf-8 608.0226ms
2025-03-03 16:12:24.662 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 70
2025-03-03 16:12:24.671 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:12:24.695 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:12:24.711 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:12:24.720 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:12:24.721 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:12:24.722 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/json; charset=utf-8 60.3371ms
2025-03-03 16:12:39.470 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5232/api/user/users - null null
2025-03-03 16:12:39.474 -05:00 [INF] Executing endpoint 'HTTP: GET /api/user/users'
2025-03-03 16:12:39.482 -05:00 [INF] Cache miss for key: allUsers
2025-03-03 16:12:39.526 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Password", u."Username"
FROM "Users" AS u
2025-03-03 16:12:39.533 -05:00 [INF] Cache set for key: allUsers
2025-03-03 16:12:39.535 -05:00 [INF] Executed endpoint 'HTTP: GET /api/user/users'
2025-03-03 16:12:39.536 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5232/api/user/users - 200 null application/json; charset=utf-8 66.4812ms
2025-03-03 16:12:50.797 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 64
2025-03-03 16:12:50.801 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:12:50.805 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:12:50.808 -05:00 [INF] Create user attemp failed: User already exist. Username: Luisa Email: Belyahoo@gmail.com
2025-03-03 16:12:50.809 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:12:50.810 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 409 null application/json; charset=utf-8 12.8276ms
2025-03-03 16:24:22.862 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5232/api/user/signup - application/json 58
2025-03-03 16:24:22.865 -05:00 [INF] Executing endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:24:23.011 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__req_Username_0='?', @__req_Email_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Username" = @__req_Username_0 AND u."Email" = @__req_Email_1)
2025-03-03 16:24:23.013 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:24:23.013 -05:00 [INF] Create user attempt failed: Invalid credentials for new user
2025-03-03 16:24:23.014 -05:00 [INF] Executed endpoint 'HTTP: POST /api/user/signup'
2025-03-03 16:24:23.015 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5232/api/user/signup - 400 null application/json; charset=utf-8 153.118ms
